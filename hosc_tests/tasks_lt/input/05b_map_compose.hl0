list $a :: Nil | Cons $a (list $a);

map f (map g xs)
where

map = %f {
  %list {
    case list of {
      Nil : Nil;
      Cons x xs : Cons (f x) (map f xs);
    }
  } 
}

comp = %f {%g { %x { f (g x)}}}
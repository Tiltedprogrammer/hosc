<svg:svg width="702" height="830" xmlns:svg="http://www.w3.org/2000/svg">
    <svg:defs>
    <svg:style type="text/css">
    
    rect {fill: none;stroke: black; stroke-width: 1;}
    text {text-anchor: middle; font-family: monospace; font-size: 10px;}
    line {stroke: black; stroke-width: 1}
    path {fill:none; stroke-width:1;stroke-dasharray: 4,4;}</svg:style>
    </svg:defs>
    <svg:rect width="64" height="30" y="0" x="319"></svg:rect><svg:text y="15" x="351">(join xs)</svg:text><svg:line x2="351" y2="100" x1="351" y1="30"></svg:line><svg:rect width="442" height="30" y="100" x="130"></svg:rect><svg:text y="115" x="351">(%x {case (x) of {Nil  : (Nil ); Cons w y : ((append w) (join y));}} xs)</svg:text><svg:line x2="351" y2="200" x1="351" y1="130"></svg:line><svg:rect width="388" height="30" y="200" x="157"></svg:rect><svg:text y="215" x="351">case (xs) of {Nil  : (Nil ); Cons w y : ((append w) (join y));}</svg:text><svg:line x2="31" y2="300" x1="351" y1="230"></svg:line><svg:rect width="22" height="30" y="300" x="20"></svg:rect><svg:text y="315" x="31">xs</svg:text><svg:line x2="105" y2="300" x1="351" y1="230"></svg:line><svg:text font-weight="bold" y="280" fill="green" x="105">xs=(Nil )</svg:text><svg:rect width="46" height="30" y="300" x="82"></svg:rect><svg:text y="315" x="105">(Nil )</svg:text><svg:line x2="425" y2="300" x1="351" y1="230"></svg:line><svg:text font-weight="bold" y="280" fill="green" x="425">xs=(Cons w y)</svg:text><svg:rect width="136" height="30" y="300" x="357"></svg:rect><svg:text y="315" x="425">((append w) (join y))</svg:text><svg:line x2="425" y2="400" x1="425" y1="330"></svg:line><svg:rect width="514" height="30" y="400" x="168"></svg:rect><svg:text y="415" x="425">((%u {%p {case (u) of {Nil  : p; Cons z v : (Cons z ((append v) p));}}} w) (join y))</svg:text><svg:line x2="425" y2="500" x1="425" y1="430"></svg:line><svg:rect width="460" height="30" y="500" x="195"></svg:rect><svg:text y="515" x="425">(%p {case (w) of {Nil  : p; Cons z v : (Cons z ((append v) p));}} (join y))</svg:text><svg:line x2="425" y2="600" x1="425" y1="530"></svg:line><svg:rect width="448" height="30" y="600" x="201"></svg:rect><svg:text y="615" x="425">case (w) of {Nil  : (join y); Cons z v : (Cons z ((append v) (join y)));}</svg:text><svg:line x2="260" y2="700" x1="425" y1="630"></svg:line><svg:rect width="16" height="30" y="700" x="252"></svg:rect><svg:text y="715" x="260">w</svg:text><svg:line x2="337" y2="700" x1="425" y1="630"></svg:line><svg:text font-weight="bold" y="680" fill="green" x="337">w=(Nil )</svg:text><svg:rect width="58" height="30" y="700" x="308"></svg:rect><svg:text y="715" x="337">(join y)</svg:text><svg:line x2="502" y2="700" x1="425" y1="630"></svg:line><svg:text font-weight="bold" y="680" fill="green" x="502">w=(Cons z v)</svg:text><svg:rect width="190" height="30" y="700" x="407"></svg:rect><svg:text y="715" x="502">(Cons z ((append v) (join y)))</svg:text><svg:line x2="414" y2="800" x1="502" y1="730"></svg:line><svg:rect width="16" height="30" y="800" x="406"></svg:rect><svg:text y="815" x="414">z</svg:text><svg:line x2="530" y2="800" x1="502" y1="730"></svg:line><svg:rect width="136" height="30" y="800" x="462"></svg:rect><svg:text y="815" x="530">((append v) (join y))</svg:text>
    <svg:path d="M 598, 815 C 702, 815 702, 315 493, 315" style="stroke:black;"></svg:path><svg:path d="M 308, 715 C 0, 715 0, 15 319, 15" style="stroke:black;"></svg:path>
    </svg:svg>
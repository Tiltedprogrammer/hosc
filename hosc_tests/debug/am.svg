<svg:svg width="7706" height="3230" xmlns:svg="http://www.w3.org/2000/svg">
    <svg:defs>
    <svg:style type="text/css">
    
    rect {fill: none;stroke: black; stroke-width: 1;}
    text {text-anchor: middle; font-family: monospace; font-size: 10px;}
    line {stroke: black; stroke-width: 1}
    path {fill:none; stroke-width:1;stroke-dasharray: 4,4;}</svg:style>
    </svg:defs>
    <svg:rect width="112" height="30" y="0" x="3797"></svg:rect><svg:text y="15" x="3853">((normalize f) t)</svg:text><svg:line x2="3853" y2="100" x1="3853" y1="30"></svg:line><svg:rect width="748" height="30" y="100" x="3479"></svg:rect><svg:text y="115" x="3853">(((\w6 -&gt; (\v10 -&gt; case (((reduce w6) v10)) of {Lit s16 -&gt; (Lit s16); Add x14 p8 -&gt; ((normalize w6) (Add x14 p8));})) f) t)</svg:text><svg:line x2="3853" y2="200" x1="3853" y1="130"></svg:line><svg:rect width="658" height="30" y="200" x="3524"></svg:rect><svg:text y="215" x="3853">((\x1 -&gt; case (((reduce f) x1)) of {Lit u21 -&gt; (Lit u21); Add r15 z10 -&gt; ((normalize f) (Add r15 z10));}) t)</svg:text><svg:line x2="3853" y2="300" x1="3853" y1="230"></svg:line><svg:rect width="562" height="30" y="300" x="3572"></svg:rect><svg:text y="315" x="3853">case (((reduce f) t)) of {Lit t1 -&gt; (Lit t1); Add y10 v16 -&gt; ((normalize f) (Add y10 v16));}</svg:text><svg:line x2="3853" y2="400" x1="3853" y1="330"></svg:line><svg:rect width="1264" height="30" y="400" x="3221"></svg:rect><svg:text y="415" x="3853">case ((((\w13 -&gt; (\p18 -&gt; case ((decompose p18)) of {Val v13 -&gt; (Lit v13); Ctx v18 -&gt; ((plug ((contract w13) (redex v18))) v18);})) f) t)) of {Lit t1 -&gt; (Lit t1); Add y10 v16 -&gt; ((normalize f) (Add y10 v16));}</svg:text><svg:line x2="3853" y2="500" x1="3853" y1="430"></svg:line><svg:rect width="1144" height="30" y="500" x="3281"></svg:rect><svg:text y="515" x="3853">case (((\x11 -&gt; case ((decompose x11)) of {Val z5 -&gt; (Lit z5); Ctx y21 -&gt; ((plug ((contract f) (redex y21))) y21);}) t)) of {Lit t21 -&gt; (Lit t21); Add t3 p9 -&gt; ((normalize f) (Add t3 p9));}</svg:text><svg:line x2="3853" y2="600" x1="3853" y1="530"></svg:line><svg:rect width="1102" height="30" y="600" x="3302"></svg:rect><svg:text y="615" x="3853">let s6=(decompose t)
 in case (case (s6) of {Ctx p4 -&gt; ((plug ((contract f) (redex p4))) p4); Val r -&gt; (Lit r);}) of {Add x23 w3 -&gt; ((normalize f) (Add x23 w3)); Lit s2 -&gt; (Lit s2);}</svg:text><svg:line x2="3138" y2="700" x1="3853" y1="630"></svg:line><svg:rect width="952" height="30" y="700" x="2662"></svg:rect><svg:text y="715" x="3138">case (case (s6) of {Ctx p4 -&gt; ((plug ((contract f) (redex p4))) p4); Val r -&gt; (Lit r);}) of {Add x23 w3 -&gt; ((normalize f) (Add x23 w3)); Lit s2 -&gt; (Lit s2);}</svg:text><svg:line x2="31" y2="800" x1="3138" y1="730"></svg:line><svg:rect width="22" height="30" y="800" x="20"></svg:rect><svg:text y="815" x="31">s6</svg:text><svg:line x2="2901" y2="800" x1="3138" y1="730"></svg:line><svg:rect width="688" height="30" y="800" x="2557"></svg:rect><svg:text y="815" x="2901">case (((plug ((contract f) (redex p4))) p4)) of {Add w14 x9 -&gt; ((normalize f) (Add w14 x9)); Lit v1 -&gt; (Lit v1);}</svg:text><svg:line x2="2901" y2="900" x1="2901" y1="830"></svg:line><svg:rect width="1540" height="30" y="900" x="2131"></svg:rect><svg:text y="915" x="2901">case ((((\v21 -&gt; (\u23 -&gt; case (u23) of {Hole p10 -&gt; (Lit v21); C1 w16 s18 -&gt; (Add ((plug v21) w16) s18); C2 w12 r5 -&gt; (Add (Lit w12) ((plug v21) r5));})) ((contract f) (redex p4))) p4)) of {Add w14 x9 -&gt; ((normalize f) (Add w14 x9)); Lit v1 -&gt; (Lit v1);}</svg:text><svg:line x2="2901" y2="1000" x1="2901" y1="930"></svg:line><svg:rect width="1708" height="30" y="1000" x="2047"></svg:rect><svg:text y="1015" x="2901">case (((\z22 -&gt; case (z22) of {Hole x17 -&gt; (Lit ((contract f) (redex p4))); C1 x8 u1 -&gt; (Add ((plug ((contract f) (redex p4))) x8) u1); C2 r20 y4 -&gt; (Add (Lit r20) ((plug ((contract f) (redex p4))) y4));}) p4)) of {Add z12 y16 -&gt; ((normalize f) (Add z12 y16)); Lit t18 -&gt; (Lit t18);}</svg:text><svg:line x2="2901" y2="1100" x1="2901" y1="1030"></svg:line><svg:rect width="1588" height="30" y="1100" x="2107"></svg:rect><svg:text y="1115" x="2901">case (case (p4) of {Hole s11 -&gt; (Lit ((contract f) (redex p4))); C1 u5 z2 -&gt; (Add ((plug ((contract f) (redex p4))) u5) z2); C2 y18 p7 -&gt; (Add (Lit y18) ((plug ((contract f) (redex p4))) p7));}) of {Add w s17 -&gt; ((normalize f) (Add w s17)); Lit v12 -&gt; (Lit v12);}</svg:text><svg:line x2="93" y2="1200" x1="2901" y1="1130"></svg:line><svg:rect width="22" height="30" y="1200" x="82"></svg:rect><svg:text y="1215" x="93">p4</svg:text><svg:line x2="584" y2="1200" x1="2901" y1="1130"></svg:line><svg:rect width="712" height="30" y="1200" x="228"></svg:rect><svg:text y="1215" x="584">case ((Lit ((contract f) (redex (Hole s11))))) of {Add v5 v22 -&gt; ((normalize f) (Add v5 v22)); Lit u20 -&gt; (Lit u20);}</svg:text><svg:line x2="584" y2="1300" x1="584" y1="1230"></svg:line><svg:rect width="244" height="30" y="1300" x="462"></svg:rect><svg:text y="1315" x="584">(Lit ((contract f) (redex (Hole s11))))</svg:text><svg:line x2="584" y2="1400" x1="584" y1="1330"></svg:line><svg:rect width="208" height="30" y="1400" x="480"></svg:rect><svg:text y="1415" x="584">((contract f) (redex (Hole s11)))</svg:text><svg:line x2="584" y2="1500" x1="584" y1="1430"></svg:line><svg:rect width="550" height="30" y="1500" x="309"></svg:rect><svg:text y="1515" x="584">(((\x10 -&gt; (\t5 -&gt; case (t5) of {Sum z19 z17 -&gt; ((x10 z19) z17);})) f) (redex (Hole s11)))</svg:text><svg:line x2="584" y2="1600" x1="584" y1="1530"></svg:line><svg:rect width="454" height="30" y="1600" x="357"></svg:rect><svg:text y="1615" x="584">((\z11 -&gt; case (z11) of {Sum w4 w23 -&gt; ((f w4) w23);}) (redex (Hole s11)))</svg:text><svg:line x2="584" y2="1700" x1="584" y1="1630"></svg:line><svg:rect width="370" height="30" y="1700" x="399"></svg:rect><svg:text y="1715" x="584">case ((redex (Hole s11))) of {Sum s10 t16 -&gt; ((f s10) t16);}</svg:text><svg:line x2="584" y2="1800" x1="584" y1="1730"></svg:line><svg:rect width="880" height="30" y="1800" x="144"></svg:rect><svg:text y="1815" x="584">case (((\y22 -&gt; case (y22) of {Hole y9 -&gt; y9; C1 t2 r18 -&gt; (redex t2); C2 w17 r7 -&gt; (redex r7);}) (Hole s11))) of {Sum s10 t16 -&gt; ((f s10) t16);}</svg:text><svg:line x2="584" y2="1900" x1="584" y1="1830"></svg:line><svg:rect width="784" height="30" y="1900" x="192"></svg:rect><svg:text y="1915" x="584">case (case ((Hole s11)) of {Hole r1 -&gt; r1; C1 v20 z4 -&gt; (redex v20); C2 r9 x13 -&gt; (redex x13);}) of {Sum x22 v9 -&gt; ((f x22) v9);}</svg:text><svg:line x2="584" y2="2000" x1="584" y1="1930"></svg:line><svg:rect width="268" height="30" y="2000" x="450"></svg:rect><svg:text y="2015" x="584">case (s11) of {Sum u2 p20 -&gt; ((f u2) p20);}</svg:text><svg:line x2="519" y2="2100" x1="584" y1="2030"></svg:line><svg:rect width="28" height="30" y="2100" x="505"></svg:rect><svg:text y="2115" x="519">s11</svg:text><svg:line x2="618" y2="2100" x1="584" y1="2030"></svg:line><svg:rect width="82" height="30" y="2100" x="577"></svg:rect><svg:text y="2115" x="618">((f u2) p20)</svg:text><svg:line x2="584" y2="2200" x1="618" y1="2130"></svg:line><svg:rect width="22" height="30" y="2200" x="573"></svg:rect><svg:text y="2215" x="584">u2</svg:text><svg:line x2="649" y2="2200" x1="618" y1="2130"></svg:line><svg:rect width="28" height="30" y="2200" x="635"></svg:rect><svg:text y="2215" x="649">p20</svg:text><svg:line x2="2206" y2="1200" x1="2901" y1="1130"></svg:line><svg:rect width="802" height="30" y="1200" x="1805"></svg:rect><svg:text y="1215" x="2206">case ((Add ((plug ((contract f) (redex (C1 u5 z2)))) u5) z2)) of {Add r22 u3 -&gt; ((normalize f) (Add r22 u3)); Lit p11 -&gt; (Lit p11);}</svg:text><svg:line x2="2206" y2="1300" x1="2206" y1="1230"></svg:line><svg:rect width="514" height="30" y="1300" x="1949"></svg:rect><svg:text y="1315" x="2206">let x4=(Add ((plug ((contract f) (redex (C1 u5 z2)))) u5) z2)
 in ((normalize f) x4)</svg:text><svg:line x2="1123" y2="1400" x1="2206" y1="1330"></svg:line><svg:rect width="118" height="30" y="1400" x="1064"></svg:rect><svg:text y="1415" x="1123">((normalize f) x4)</svg:text><svg:line x2="2285" y2="1400" x1="2206" y1="1330"></svg:line><svg:rect width="334" height="30" y="1400" x="2118"></svg:rect><svg:text y="1415" x="2285">(Add ((plug ((contract f) (redex (C1 u5 z2)))) u5) z2)</svg:text><svg:line x2="2254" y2="1500" x1="2285" y1="1430"></svg:line><svg:rect width="418" height="30" y="1500" x="2045"></svg:rect><svg:text y="1515" x="2254">let w15=u5, z8=u5
 in ((plug ((contract f) (redex (C1 w15 z2)))) z8)</svg:text><svg:line x2="2192" y2="1600" x1="2254" y1="1530"></svg:line><svg:rect width="286" height="30" y="1600" x="2049"></svg:rect><svg:text y="1615" x="2192">((plug ((contract f) (redex (C1 w15 z2)))) z8)</svg:text><svg:line x2="2192" y2="1700" x1="2192" y1="1630"></svg:line><svg:rect width="1078" height="30" y="1700" x="1653"></svg:rect><svg:text y="1715" x="2192">(((\x -&gt; (\t23 -&gt; case (t23) of {Hole u13 -&gt; (Lit x); C1 w8 y2 -&gt; (Add ((plug x) w8) y2); C2 z14 r17 -&gt; (Add (Lit z14) ((plug x) r17));})) ((contract f) (redex (C1 w15 z2)))) z8)</svg:text><svg:line x2="2192" y2="1800" x1="2192" y1="1730"></svg:line><svg:rect width="1402" height="30" y="1800" x="1491"></svg:rect><svg:text y="1815" x="2192">((\w22 -&gt; case (w22) of {Hole x12 -&gt; (Lit ((contract f) (redex (C1 w15 z2)))); C1 r14 v7 -&gt; (Add ((plug ((contract f) (redex (C1 w15 z2)))) r14) v7); C2 p1 t22 -&gt; (Add (Lit p1) ((plug ((contract f) (redex (C1 w15 z2)))) t22));}) z8)</svg:text><svg:line x2="2192" y2="1900" x1="2192" y1="1830"></svg:line><svg:rect width="1318" height="30" y="1900" x="1533"></svg:rect><svg:text y="1915" x="2192">case (z8) of {Hole v15 -&gt; (Lit ((contract f) (redex (C1 w15 z2)))); C1 t11 y6 -&gt; (Add ((plug ((contract f) (redex (C1 w15 z2)))) t11) y6); C2 r12 y17 -&gt; (Add (Lit r12) ((plug ((contract f) (redex (C1 w15 z2)))) y17));}</svg:text><svg:line x2="1233" y2="2000" x1="2192" y1="1930"></svg:line><svg:rect width="22" height="30" y="2000" x="1222"></svg:rect><svg:text y="2015" x="1233">z8</svg:text><svg:line x2="1808" y2="2000" x1="2192" y1="1930"></svg:line><svg:rect width="250" height="30" y="2000" x="1683"></svg:rect><svg:text y="2015" x="1808">(Lit ((contract f) (redex (C1 w15 z2))))</svg:text><svg:line x2="1808" y2="2100" x1="1808" y1="2030"></svg:line><svg:rect width="214" height="30" y="2100" x="1701"></svg:rect><svg:text y="2115" x="1808">((contract f) (redex (C1 w15 z2)))</svg:text><svg:line x2="1808" y2="2200" x1="1808" y1="2130"></svg:line><svg:rect width="544" height="30" y="2200" x="1536"></svg:rect><svg:text y="2215" x="1808">(((\v8 -&gt; (\w10 -&gt; case (w10) of {Sum t12 y7 -&gt; ((v8 t12) y7);})) f) (redex (C1 w15 z2)))</svg:text><svg:line x2="1808" y2="2300" x1="1808" y1="2230"></svg:line><svg:rect width="460" height="30" y="2300" x="1578"></svg:rect><svg:text y="2315" x="1808">((\y1 -&gt; case (y1) of {Sum s22 p14 -&gt; ((f s22) p14);}) (redex (C1 w15 z2)))</svg:text><svg:line x2="1808" y2="2400" x1="1808" y1="2330"></svg:line><svg:rect width="352" height="30" y="2400" x="1632"></svg:rect><svg:text y="2415" x="1808">case ((redex (C1 w15 z2))) of {Sum u7 p5 -&gt; ((f u7) p5);}</svg:text><svg:line x2="1808" y2="2500" x1="1808" y1="2430"></svg:line><svg:rect width="868" height="30" y="2500" x="1374"></svg:rect><svg:text y="2515" x="1808">case (((\p13 -&gt; case (p13) of {Hole t8 -&gt; t8; C1 u14 r4 -&gt; (redex u14); C2 x24 x5 -&gt; (redex x5);}) (C1 w15 z2))) of {Sum u7 p5 -&gt; ((f u7) p5);}</svg:text><svg:line x2="1808" y2="2600" x1="1808" y1="2530"></svg:line><svg:rect width="802" height="30" y="2600" x="1407"></svg:rect><svg:text y="2615" x="1808">case (case ((C1 w15 z2)) of {Hole y24 -&gt; y24; C1 s23 v17 -&gt; (redex s23); C2 u x20 -&gt; (redex x20);}) of {Sum z7 u12 -&gt; ((f z7) u12);}</svg:text><svg:line x2="1808" y2="2700" x1="1808" y1="2630"></svg:line><svg:rect width="316" height="30" y="2700" x="1650"></svg:rect><svg:text y="2715" x="1808">case ((redex w15)) of {Sum z3 y19 -&gt; ((f z3) y19);}</svg:text><svg:line x2="1808" y2="2800" x1="1808" y1="2730"></svg:line><svg:rect width="844" height="30" y="2800" x="1386"></svg:rect><svg:text y="2815" x="1808">case (((\t17 -&gt; case (t17) of {Hole r10 -&gt; r10; C1 t4 s20 -&gt; (redex t4); C2 s8 u15 -&gt; (redex u15);}) w15)) of {Sum z3 y19 -&gt; ((f z3) y19);}</svg:text><svg:line x2="1808" y2="2900" x1="1808" y1="2830"></svg:line><svg:rect width="772" height="30" y="2900" x="1422"></svg:rect><svg:text y="2915" x="1808">case (case (w15) of {Hole p22 -&gt; p22; C1 r16 u10 -&gt; (redex r16); C2 y5 r21 -&gt; (redex r21);}) of {Sum p17 v11 -&gt; ((f p17) v11);}</svg:text><svg:line x2="1298" y2="3000" x1="1808" y1="2930"></svg:line><svg:rect width="28" height="30" y="3000" x="1284"></svg:rect><svg:text y="3015" x="1298">w15</svg:text><svg:line x2="1486" y2="3000" x1="1808" y1="2930"></svg:line><svg:rect width="268" height="30" y="3000" x="1352"></svg:rect><svg:text y="3015" x="1486">case (p22) of {Sum y3 z20 -&gt; ((f y3) z20);}</svg:text><svg:line x2="1421" y2="3100" x1="1486" y1="3030"></svg:line><svg:rect width="28" height="30" y="3100" x="1407"></svg:rect><svg:text y="3115" x="1421">p22</svg:text><svg:line x2="1520" y2="3100" x1="1486" y1="3030"></svg:line><svg:rect width="82" height="30" y="3100" x="1479"></svg:rect><svg:text y="3115" x="1520">((f y3) z20)</svg:text><svg:line x2="1486" y2="3200" x1="1520" y1="3130"></svg:line><svg:rect width="22" height="30" y="3200" x="1475"></svg:rect><svg:text y="3215" x="1486">y3</svg:text><svg:line x2="1551" y2="3200" x1="1520" y1="3130"></svg:line><svg:rect width="28" height="30" y="3200" x="1537"></svg:rect><svg:text y="3215" x="1551">z20</svg:text><svg:line x2="1812" y2="3000" x1="1808" y1="2930"></svg:line><svg:rect width="304" height="30" y="3000" x="1660"></svg:rect><svg:text y="3015" x="1812">case ((redex r16)) of {Sum t7 s7 -&gt; ((f t7) s7);}</svg:text><svg:line x2="2168" y2="3000" x1="1808" y1="2930"></svg:line><svg:rect width="328" height="30" y="3000" x="2004"></svg:rect><svg:text y="3015" x="2168">case ((redex r21)) of {Sum y15 t15 -&gt; ((f y15) t15);}</svg:text><svg:line x2="2549" y2="2000" x1="2192" y1="1930"></svg:line><svg:rect width="346" height="30" y="2000" x="2376"></svg:rect><svg:text y="2015" x="2549">(Add ((plug ((contract f) (redex (C1 w15 z2)))) t11) y6)</svg:text><svg:line x2="2518" y2="2100" x1="2549" y1="2030"></svg:line><svg:rect width="292" height="30" y="2100" x="2372"></svg:rect><svg:text y="2115" x="2518">((plug ((contract f) (redex (C1 w15 z2)))) t11)</svg:text><svg:line x2="2715" y2="2100" x1="2549" y1="2030"></svg:line><svg:rect width="22" height="30" y="2100" x="2704"></svg:rect><svg:text y="2115" x="2715">y6</svg:text><svg:line x2="2964" y2="2000" x1="2192" y1="1930"></svg:line><svg:rect width="388" height="30" y="2000" x="2770"></svg:rect><svg:text y="2015" x="2964">(Add (Lit r12) ((plug ((contract f) (redex (C1 w15 z2)))) y17))</svg:text><svg:line x2="2798" y2="2100" x1="2964" y1="2030"></svg:line><svg:rect width="64" height="30" y="2100" x="2766"></svg:rect><svg:text y="2115" x="2798">(Lit r12)</svg:text><svg:line x2="2798" y2="2200" x1="2798" y1="2130"></svg:line><svg:rect width="28" height="30" y="2200" x="2784"></svg:rect><svg:text y="2215" x="2798">r12</svg:text><svg:line x2="3016" y2="2100" x1="2964" y1="2030"></svg:line><svg:rect width="292" height="30" y="2100" x="2870"></svg:rect><svg:text y="2115" x="3016">((plug ((contract f) (redex (C1 w15 z2)))) y17)</svg:text><svg:line x2="3213" y2="1600" x1="2254" y1="1530"></svg:line><svg:rect width="22" height="30" y="1600" x="3202"></svg:rect><svg:text y="1615" x="3213">u5</svg:text><svg:line x2="3275" y2="1600" x1="2254" y1="1530"></svg:line><svg:rect width="22" height="30" y="1600" x="3264"></svg:rect><svg:text y="1615" x="3275">u5</svg:text><svg:line x2="3337" y2="1500" x1="2285" y1="1430"></svg:line><svg:rect width="22" height="30" y="1500" x="3326"></svg:rect><svg:text y="1515" x="3337">z2</svg:text><svg:line x2="4554" y2="1200" x1="2901" y1="1130"></svg:line><svg:rect width="862" height="30" y="1200" x="4123"></svg:rect><svg:text y="1215" x="4554">case ((Add (Lit y18) ((plug ((contract f) (redex (C2 y18 p7)))) p7))) of {Add t20 w21 -&gt; ((normalize f) (Add t20 w21)); Lit x21 -&gt; (Lit x21);}</svg:text><svg:line x2="4554" y2="1300" x1="4554" y1="1230"></svg:line><svg:rect width="574" height="30" y="1300" x="4267"></svg:rect><svg:text y="1315" x="4554">let t13=(Add (Lit y18) ((plug ((contract f) (redex (C2 y18 p7)))) p7))
 in ((normalize f) t13)</svg:text><svg:line x2="3450" y2="1400" x1="4554" y1="1330"></svg:line><svg:rect width="124" height="30" y="1400" x="3388"></svg:rect><svg:text y="1415" x="3450">((normalize f) t13)</svg:text><svg:line x2="4636" y2="1400" x1="4554" y1="1330"></svg:line><svg:rect width="382" height="30" y="1400" x="4445"></svg:rect><svg:text y="1415" x="4636">(Add (Lit y18) ((plug ((contract f) (redex (C2 y18 p7)))) p7))</svg:text><svg:line x2="3584" y2="1500" x1="4636" y1="1430"></svg:line><svg:rect width="64" height="30" y="1500" x="3552"></svg:rect><svg:text y="1515" x="3584">(Lit y18)</svg:text><svg:line x2="3584" y2="1600" x1="3584" y1="1530"></svg:line><svg:rect width="28" height="30" y="1600" x="3570"></svg:rect><svg:text y="1615" x="3584">y18</svg:text><svg:line x2="4688" y2="1500" x1="4636" y1="1430"></svg:line><svg:rect width="424" height="30" y="1500" x="4476"></svg:rect><svg:text y="1515" x="4688">let z1=p7, s15=p7
 in ((plug ((contract f) (redex (C2 y18 z1)))) s15)</svg:text><svg:line x2="4626" y2="1600" x1="4688" y1="1530"></svg:line><svg:rect width="292" height="30" y="1600" x="4480"></svg:rect><svg:text y="1615" x="4626">((plug ((contract f) (redex (C2 y18 z1)))) s15)</svg:text><svg:line x2="4626" y2="1700" x1="4626" y1="1630"></svg:line><svg:rect width="1108" height="30" y="1700" x="4072"></svg:rect><svg:text y="1715" x="4626">(((\x3 -&gt; (\v2 -&gt; case (v2) of {Hole s19 -&gt; (Lit x3); C1 s13 x2 -&gt; (Add ((plug x3) s13) x2); C2 x19 x15 -&gt; (Add (Lit x19) ((plug x3) x15));})) ((contract f) (redex (C2 y18 z1)))) s15)</svg:text><svg:line x2="4626" y2="1800" x1="4626" y1="1730"></svg:line><svg:rect width="1372" height="30" y="1800" x="3940"></svg:rect><svg:text y="1815" x="4626">((\w9 -&gt; case (w9) of {Hole z -&gt; (Lit ((contract f) (redex (C2 y18 z1)))); C1 v23 s5 -&gt; (Add ((plug ((contract f) (redex (C2 y18 z1)))) v23) s5); C2 y8 r2 -&gt; (Add (Lit y8) ((plug ((contract f) (redex (C2 y18 z1)))) r2));}) s15)</svg:text><svg:line x2="4626" y2="1900" x1="4626" y1="1830"></svg:line><svg:rect width="1312" height="30" y="1900" x="3970"></svg:rect><svg:text y="1915" x="4626">case (s15) of {Hole v19 -&gt; (Lit ((contract f) (redex (C2 y18 z1)))); C1 y13 p -&gt; (Add ((plug ((contract f) (redex (C2 y18 z1)))) y13) p); C2 p19 z15 -&gt; (Add (Lit p19) ((plug ((contract f) (redex (C2 y18 z1)))) z15));}</svg:text><svg:line x2="3670" y2="2000" x1="4626" y1="1930"></svg:line><svg:rect width="28" height="30" y="2000" x="3656"></svg:rect><svg:text y="2015" x="3670">s15</svg:text><svg:line x2="4248" y2="2000" x1="4626" y1="1930"></svg:line><svg:rect width="250" height="30" y="2000" x="4123"></svg:rect><svg:text y="2015" x="4248">(Lit ((contract f) (redex (C2 y18 z1))))</svg:text><svg:line x2="4248" y2="2100" x1="4248" y1="2030"></svg:line><svg:rect width="214" height="30" y="2100" x="4141"></svg:rect><svg:text y="2115" x="4248">((contract f) (redex (C2 y18 z1)))</svg:text><svg:line x2="4248" y2="2200" x1="4248" y1="2130"></svg:line><svg:rect width="544" height="30" y="2200" x="3976"></svg:rect><svg:text y="2215" x="4248">(((\r8 -&gt; (\z18 -&gt; case (z18) of {Sum u22 r3 -&gt; ((r8 u22) r3);})) f) (redex (C2 y18 z1)))</svg:text><svg:line x2="4248" y2="2300" x1="4248" y1="2230"></svg:line><svg:rect width="460" height="30" y="2300" x="4018"></svg:rect><svg:text y="2315" x="4248">((\z6 -&gt; case (z6) of {Sum r23 x16 -&gt; ((f r23) x16);}) (redex (C2 y18 z1)))</svg:text><svg:line x2="4248" y2="2400" x1="4248" y1="2330"></svg:line><svg:rect width="364" height="30" y="2400" x="4066"></svg:rect><svg:text y="2415" x="4248">case ((redex (C2 y18 z1))) of {Sum y14 w1 -&gt; ((f y14) w1);}</svg:text><svg:line x2="4248" y2="2500" x1="4248" y1="2430"></svg:line><svg:rect width="892" height="30" y="2500" x="3802"></svg:rect><svg:text y="2515" x="4248">case (((\w19 -&gt; case (w19) of {Hole v14 -&gt; v14; C1 p2 v4 -&gt; (redex p2); C2 w18 z13 -&gt; (redex z13);}) (C2 y18 z1))) of {Sum y14 w1 -&gt; ((f y14) w1);}</svg:text><svg:line x2="4248" y2="2600" x1="4248" y1="2530"></svg:line><svg:rect width="778" height="30" y="2600" x="3859"></svg:rect><svg:text y="2615" x="4248">case (case ((C2 y18 z1)) of {Hole w7 -&gt; w7; C1 u6 w20 -&gt; (redex u6); C2 u17 r11 -&gt; (redex r11);}) of {Sum w2 v3 -&gt; ((f w2) v3);}</svg:text><svg:line x2="4248" y2="2700" x1="4248" y1="2630"></svg:line><svg:rect width="322" height="30" y="2700" x="4087"></svg:rect><svg:text y="2715" x="4248">case ((redex z1)) of {Sum t10 r19 -&gt; ((f t10) r19);}</svg:text><svg:line x2="4248" y2="2800" x1="4248" y1="2730"></svg:line><svg:rect width="838" height="30" y="2800" x="3829"></svg:rect><svg:text y="2815" x="4248">case (((\z16 -&gt; case (z16) of {Hole u11 -&gt; u11; C1 v6 w5 -&gt; (redex v6); C2 s14 p6 -&gt; (redex p6);}) z1)) of {Sum t10 r19 -&gt; ((f t10) r19);}</svg:text><svg:line x2="4248" y2="2900" x1="4248" y1="2830"></svg:line><svg:rect width="748" height="30" y="2900" x="3874"></svg:rect><svg:text y="2915" x="4248">case (case (z1) of {Hole s1 -&gt; s1; C1 z24 p3 -&gt; (redex z24); C2 s9 p21 -&gt; (redex p21);}) of {Sum p16 w11 -&gt; ((f p16) w11);}</svg:text><svg:line x2="3735" y2="3000" x1="4248" y1="2930"></svg:line><svg:rect width="22" height="30" y="3000" x="3724"></svg:rect><svg:text y="3015" x="3735">z1</svg:text><svg:line x2="3917" y2="3000" x1="4248" y1="2930"></svg:line><svg:rect width="262" height="30" y="3000" x="3786"></svg:rect><svg:text y="3015" x="3917">case (s1) of {Sum s4 y20 -&gt; ((f s4) y20);}</svg:text><svg:line x2="3852" y2="3100" x1="3917" y1="3030"></svg:line><svg:rect width="22" height="30" y="3100" x="3841"></svg:rect><svg:text y="3115" x="3852">s1</svg:text><svg:line x2="3948" y2="3100" x1="3917" y1="3030"></svg:line><svg:rect width="82" height="30" y="3100" x="3907"></svg:rect><svg:text y="3115" x="3948">((f s4) y20)</svg:text><svg:line x2="3914" y2="3200" x1="3948" y1="3130"></svg:line><svg:rect width="22" height="30" y="3200" x="3903"></svg:rect><svg:text y="3215" x="3914">s4</svg:text><svg:line x2="3979" y2="3200" x1="3948" y1="3130"></svg:line><svg:rect width="28" height="30" y="3200" x="3965"></svg:rect><svg:text y="3215" x="3979">y20</svg:text><svg:line x2="4246" y2="3000" x1="4248" y1="2930"></svg:line><svg:rect width="316" height="30" y="3000" x="4088"></svg:rect><svg:text y="3015" x="4246">case ((redex z24)) of {Sum t14 x7 -&gt; ((f t14) x7);}</svg:text><svg:line x2="4608" y2="3000" x1="4248" y1="2930"></svg:line><svg:rect width="328" height="30" y="3000" x="4444"></svg:rect><svg:text y="3015" x="4608">case ((redex p21)) of {Sum p12 z23 -&gt; ((f p12) z23);}</svg:text><svg:line x2="4986" y2="2000" x1="4626" y1="1930"></svg:line><svg:rect width="340" height="30" y="2000" x="4816"></svg:rect><svg:text y="2015" x="4986">(Add ((plug ((contract f) (redex (C2 y18 z1)))) y13) p)</svg:text><svg:line x2="4958" y2="2100" x1="4986" y1="2030"></svg:line><svg:rect width="292" height="30" y="2100" x="4812"></svg:rect><svg:text y="2115" x="4958">((plug ((contract f) (redex (C2 y18 z1)))) y13)</svg:text><svg:line x2="5152" y2="2100" x1="4986" y1="2030"></svg:line><svg:rect width="16" height="30" y="2100" x="5144"></svg:rect><svg:text y="2115" x="5152">p</svg:text><svg:line x2="5398" y2="2000" x1="4626" y1="1930"></svg:line><svg:rect width="388" height="30" y="2000" x="5204"></svg:rect><svg:text y="2015" x="5398">(Add (Lit p19) ((plug ((contract f) (redex (C2 y18 z1)))) z15))</svg:text><svg:line x2="5232" y2="2100" x1="5398" y1="2030"></svg:line><svg:rect width="64" height="30" y="2100" x="5200"></svg:rect><svg:text y="2115" x="5232">(Lit p19)</svg:text><svg:line x2="5232" y2="2200" x1="5232" y1="2130"></svg:line><svg:rect width="28" height="30" y="2200" x="5218"></svg:rect><svg:text y="2215" x="5232">p19</svg:text><svg:line x2="5450" y2="2100" x1="5398" y1="2030"></svg:line><svg:rect width="292" height="30" y="2100" x="5304"></svg:rect><svg:text y="2115" x="5450">((plug ((contract f) (redex (C2 y18 z1)))) z15)</svg:text><svg:line x2="5647" y2="1600" x1="4688" y1="1530"></svg:line><svg:rect width="22" height="30" y="1600" x="5636"></svg:rect><svg:text y="1615" x="5647">p7</svg:text><svg:line x2="5709" y2="1600" x1="4688" y1="1530"></svg:line><svg:rect width="22" height="30" y="1600" x="5698"></svg:rect><svg:text y="1615" x="5709">p7</svg:text><svg:line x2="6008" y2="800" x1="3138" y1="730"></svg:line><svg:rect width="496" height="30" y="800" x="5760"></svg:rect><svg:text y="815" x="6008">case ((Lit r)) of {Add p15 t6 -&gt; ((normalize f) (Add p15 t6)); Lit s -&gt; (Lit s);}</svg:text><svg:line x2="6008" y2="900" x1="6008" y1="830"></svg:line><svg:rect width="52" height="30" y="900" x="5982"></svg:rect><svg:text y="915" x="6008">(Lit r)</svg:text><svg:line x2="6008" y2="1000" x1="6008" y1="930"></svg:line><svg:rect width="16" height="30" y="1000" x="6000"></svg:rect><svg:text y="1015" x="6008">r</svg:text><svg:line x2="6991" y2="700" x1="3853" y1="630"></svg:line><svg:rect width="88" height="30" y="700" x="6947"></svg:rect><svg:text y="715" x="6991">(decompose t)</svg:text><svg:line x2="6991" y2="800" x1="6991" y1="730"></svg:line><svg:rect width="1390" height="30" y="800" x="6296"></svg:rect><svg:text y="815" x="6991">((\u9 -&gt; case (u9) of {Lit z9 -&gt; (Val z9); Add u16 s21 -&gt; case ((decompose u16)) of {Ctx x6 -&gt; (Ctx (C1 x6 s21)); Val s12 -&gt; case ((decompose s21)) of {Val u18 -&gt; (Ctx (Hole (Sum s12 u18))); Ctx y12 -&gt; (Ctx (C2 s12 y12));};};}) t)</svg:text><svg:line x2="6991" y2="900" x1="6991" y1="830"></svg:line><svg:rect width="1270" height="30" y="900" x="6356"></svg:rect><svg:text y="915" x="6991">case (t) of {Lit s3 -&gt; (Val s3); Add y23 r13 -&gt; case ((decompose y23)) of {Ctx z21 -&gt; (Ctx (C1 z21 r13)); Val y -&gt; case ((decompose r13)) of {Val r6 -&gt; (Ctx (Hole (Sum y r6))); Ctx p23 -&gt; (Ctx (C2 y p23));};};}</svg:text><svg:line x2="6380" y2="1000" x1="6991" y1="930"></svg:line><svg:rect width="16" height="30" y="1000" x="6372"></svg:rect><svg:text y="1015" x="6380">t</svg:text><svg:line x2="6457" y2="1000" x1="6991" y1="930"></svg:line><svg:rect width="58" height="30" y="1000" x="6428"></svg:rect><svg:text y="1015" x="6457">(Val s3)</svg:text><svg:line x2="6457" y2="1100" x1="6457" y1="1030"></svg:line><svg:rect width="22" height="30" y="1100" x="6446"></svg:rect><svg:text y="1115" x="6457">s3</svg:text><svg:line x2="7068" y2="1000" x1="6991" y1="930"></svg:line><svg:rect width="1084" height="30" y="1000" x="6526"></svg:rect><svg:text y="1015" x="7068">let t19=(decompose y23)
 in case (t19) of {Ctx x18 -&gt; (Ctx (C1 x18 r13)); Val t9 -&gt; case ((decompose r13)) of {Ctx u8 -&gt; (Ctx (C2 t9 u8)); Val y11 -&gt; (Ctx (Hole (Sum t9 y11)));};}</svg:text><svg:line x2="6998" y2="1100" x1="7068" y1="1030"></svg:line><svg:rect width="916" height="30" y="1100" x="6540"></svg:rect><svg:text y="1115" x="6998">case (t19) of {Ctx x18 -&gt; (Ctx (C1 x18 r13)); Val t9 -&gt; case ((decompose r13)) of {Ctx u8 -&gt; (Ctx (C2 t9 u8)); Val y11 -&gt; (Ctx (Hole (Sum t9 y11)));};}</svg:text><svg:line x2="6579" y2="1200" x1="6998" y1="1130"></svg:line><svg:rect width="28" height="30" y="1200" x="6565"></svg:rect><svg:text y="1215" x="6579">t19</svg:text><svg:line x2="6692" y2="1200" x1="6998" y1="1130"></svg:line><svg:rect width="118" height="30" y="1200" x="6633"></svg:rect><svg:text y="1215" x="6692">(Ctx (C1 x18 r13))</svg:text><svg:line x2="6692" y2="1300" x1="6692" y1="1230"></svg:line><svg:rect width="82" height="30" y="1300" x="6651"></svg:rect><svg:text y="1315" x="6692">(C1 x18 r13)</svg:text><svg:line x2="6658" y2="1400" x1="6692" y1="1330"></svg:line><svg:rect width="28" height="30" y="1400" x="6644"></svg:rect><svg:text y="1415" x="6658">x18</svg:text><svg:line x2="6726" y2="1400" x1="6692" y1="1330"></svg:line><svg:rect width="28" height="30" y="1400" x="6712"></svg:rect><svg:text y="1415" x="6726">r13</svg:text><svg:line x2="7111" y2="1200" x1="6998" y1="1130"></svg:line><svg:rect width="640" height="30" y="1200" x="6791"></svg:rect><svg:text y="1215" x="7111">let u4=(decompose r13)
 in case (u4) of {Ctx u19 -&gt; (Ctx (C2 t9 u19)); Val v -&gt; (Ctx (Hole (Sum t9 v)));}</svg:text><svg:line x2="7041" y2="1300" x1="7111" y1="1230"></svg:line><svg:rect width="478" height="30" y="1300" x="6802"></svg:rect><svg:text y="1315" x="7041">case (u4) of {Ctx u19 -&gt; (Ctx (C2 t9 u19)); Val v -&gt; (Ctx (Hole (Sum t9 v)));}</svg:text><svg:line x2="6871" y2="1400" x1="7041" y1="1330"></svg:line><svg:rect width="22" height="30" y="1400" x="6860"></svg:rect><svg:text y="1415" x="6871">u4</svg:text><svg:line x2="6978" y2="1400" x1="7041" y1="1330"></svg:line><svg:rect width="112" height="30" y="1400" x="6922"></svg:rect><svg:text y="1415" x="6978">(Ctx (C2 t9 u19))</svg:text><svg:line x2="6978" y2="1500" x1="6978" y1="1430"></svg:line><svg:rect width="76" height="30" y="1500" x="6940"></svg:rect><svg:text y="1515" x="6978">(C2 t9 u19)</svg:text><svg:line x2="6944" y2="1600" x1="6978" y1="1530"></svg:line><svg:rect width="22" height="30" y="1600" x="6933"></svg:rect><svg:text y="1615" x="6944">t9</svg:text><svg:line x2="7009" y2="1600" x1="6978" y1="1530"></svg:line><svg:rect width="28" height="30" y="1600" x="6995"></svg:rect><svg:text y="1615" x="7009">u19</svg:text><svg:line x2="7148" y2="1400" x1="7041" y1="1330"></svg:line><svg:rect width="148" height="30" y="1400" x="7074"></svg:rect><svg:text y="1415" x="7148">(Ctx (Hole (Sum t9 v)))</svg:text><svg:line x2="7148" y2="1500" x1="7148" y1="1430"></svg:line><svg:rect width="112" height="30" y="1500" x="7092"></svg:rect><svg:text y="1515" x="7148">(Hole (Sum t9 v))</svg:text><svg:line x2="7148" y2="1600" x1="7148" y1="1530"></svg:line><svg:rect width="70" height="30" y="1600" x="7113"></svg:rect><svg:text y="1615" x="7148">(Sum t9 v)</svg:text><svg:line x2="7120" y2="1700" x1="7148" y1="1630"></svg:line><svg:rect width="22" height="30" y="1700" x="7109"></svg:rect><svg:text y="1715" x="7120">t9</svg:text><svg:line x2="7179" y2="1700" x1="7148" y1="1630"></svg:line><svg:rect width="16" height="30" y="1700" x="7171"></svg:rect><svg:text y="1715" x="7179">v</svg:text><svg:line x2="7370" y2="1300" x1="7111" y1="1230"></svg:line><svg:rect width="100" height="30" y="1300" x="7320"></svg:rect><svg:text y="1315" x="7370">(decompose r13)</svg:text><svg:line x2="7546" y2="1100" x1="7068" y1="1030"></svg:line><svg:rect width="100" height="30" y="1100" x="7496"></svg:rect><svg:text y="1115" x="7546">(decompose y23)</svg:text>
    <svg:path d="M 2332, 3015 C 2352, 3015 2352, 2715 1966, 2715" style="stroke:black;"></svg:path><svg:path d="M 1964, 3015 C 2352, 3015 2352, 2715 1966, 2715" style="stroke:black;"></svg:path><svg:path d="M 2664, 2115 C 3182, 2115 3182, 1615 2335, 1615" style="stroke:black;"></svg:path><svg:path d="M 3162, 2115 C 3182, 2115 3182, 1615 2335, 1615" style="stroke:black;"></svg:path><svg:path d="M 1064, 1415 C 0, 1415 0, 15 3797, 15" style="stroke:black;"></svg:path><svg:path d="M 4772, 3015 C 4792, 3015 4792, 2715 4409, 2715" style="stroke:black;"></svg:path><svg:path d="M 4088, 3015 C 3704, 3015 3704, 2715 4087, 2715" style="stroke:black;"></svg:path><svg:path d="M 5104, 2115 C 5616, 2115 5616, 1615 4772, 1615" style="stroke:black;"></svg:path><svg:path d="M 5596, 2115 C 5616, 2115 5616, 1615 4772, 1615" style="stroke:black;"></svg:path><svg:path d="M 3388, 1415 C 0, 1415 0, 15 3797, 15" style="stroke:black;"></svg:path><svg:path d="M 7420, 1315 C 7706, 1315 7706, 715 7035, 715" style="stroke:black;"></svg:path><svg:path d="M 7596, 1115 C 7706, 1115 7706, 715 7035, 715" style="stroke:black;"></svg:path>
    </svg:svg>